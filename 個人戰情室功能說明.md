# 個人戰情室功能說明

## 📋 新增功能概述

在「產品機台專案選擇分析」頁面中新增了「個人戰情室」功能，讓使用者可以一目了然地查看所有與自己相關的專案和任務。

## 🎯 主要特色

### 1. **入口位置**
- 位於「產品機台專案選擇分析」頁面右上角
- 在「返回」按鈕旁邊新增藍色的「個人戰情室」按鈕
- 使用甘特圖圖示（GanttChartIcon）作為視覺識別

### 2. **功能特點**

#### 統計儀表板
顯示四個關鍵指標卡片：
- **總專案數**：顯示使用者參與或擁有的所有專案數量
- **總任務數**：顯示分配給使用者的所有任務數量
- **進行中**：正在執行的專案和任務數量
- **已完成**：已完成的項目數量

#### 甘特圖視圖
- **時間軸顯示**：以視覺化方式展示所有專案和任務的時間線
- **今日標記**：紅色垂直線標示當前日期位置
- **進度顯示**：每個項目顯示完成百分比
- **類型標識**：
  - 藍色標籤：專案
  - 綠色標籤：任務
- **狀態顏色**：
  - 🔵 藍色：進行中
  - 🟢 綠色：已完成
  - ⚪ 灰色：待處理

#### 詳細資訊
- 顯示項目名稱、類型、關聯機台
- 滑鼠懸停可查看完整資訊（開始/結束日期、進度）
- 自動排序：依開始日期排列

### 3. **資料來源**
系統會自動篩選：
- 使用者是成員或擁有者的專案
- 分配給使用者的任務
- 關聯的機台資訊

### 4. **互動功能**
- 點擊「個人戰情室」按鈕進入
- 點擊「返回」按鈕回到專案選擇頁面
- 響應式設計，支援不同螢幕尺寸

## 🔧 技術實現

### 資料整合
```javascript
// 從 localStorage 讀取專案和任務資料
const allProjects = JSON.parse(localStorage.getItem('projects') || '[]');
const allTasks = JSON.parse(localStorage.getItem('tasks') || '[]');

// 過濾與當前使用者相關的項目
const userProjects = allProjects.filter(project => 
  project.members?.includes(currentUser.username) || 
  project.owner === currentUser.username
);
```

### 時間軸計算
- 自動計算顯示範圍（前7天至後14天）
- 精確計算項目在時間軸上的位置
- 動態生成日期標記

### 狀態管理
```javascript
const [showPersonalDashboard, setShowPersonalDashboard] = useState(false);
```

## 📊 使用場景

1. **專案經理**：快速查看所有負責的專案進度
2. **團隊成員**：了解自己的任務分配和時程
3. **管理者**：檢視個人工作負載和時間安排
4. **跨專案協作**：查看不同機台專案的時間衝突

## 🎨 UI/UX 設計

- **配色方案**：藍色主題，符合系統整體設計
- **圖示使用**：使用 lucide-react 圖示庫
- **動畫效果**：淡入動畫（animate-fade-in）
- **響應式**：支援手機、平板、桌面裝置

## 📝 未來擴展建議

- [ ] 新增篩選功能（依機台、狀態、時間範圍）
- [ ] 支援匯出甘特圖為圖片或 PDF
- [ ] 新增拖曳調整任務時間功能
- [ ] 整合日曆視圖切換
- [ ] 新增任務依賴關係顯示
- [ ] 支援團隊成員比較視圖

---

**版本**：1.0  
**更新日期**：2025年12月17日
